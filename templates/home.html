{% extends 'base.html' %}

{% block title%}
    Movie Town
{% endblock %}

{% block navbar %}
  <!-- signed in -->
  {% if user %}
    <a href="{{ url_for('profile') }}">
      <img src="{{ user.get('u_picture') }}" alt="Profile Picture" width="60rem" height="60rem" class="d-none d-md-inline-block align-top profile-img">
    </a>
    <li>
      <a class="nav-link visible-ws", href="{{ url_for('profile') }}"> {{ user.get("u_name") }}</a>
    </li>
    <li>
      <a class="nav-link visible-ws" href="{{ url_for('logout') }}">Logout  </a>
    </li>
  <!-- no one signed in -->
  {% else %}
    <li>
      <a class="nav-link", href="{{ url_for('login') }}">Login</a>
    </li>
    <li>
      <a class="nav-link", href="{{ url_for('sign_up') }}">Sign up   </a>
    </li>
  {% endif %}
{% endblock %}

{% block main %}
  <!--Featured Label-->
  <div class="container text-center p-3">
    <span
      class="h1 font-bold font-xlarge text-gradient hue shadow"
      style="padding: 1rem; border-radius: 1rem;">
      Featured Movies
  </span>
  </div>
  <!-- carousel section-->
  <div class="container">
    <div
    id="carouselShowcase" 
    class="container p-3 carousel slide "
    data-bs-interval="3000"
    data-bs-ride="carousel"
    >
    <!--Indicators-->
    <div class="carousel-indicators">
      <button
        class="active"
        type="button"
        data-bs-target="#carouselShowcase"
        data-bs-slide-to="0"
        aria-current="true"
        aria-label="Slide 1"
      >
      </button>
      <button
        type="button"
        data-bs-target="#carouselShowcase"
        data-bs-slide-to="1"
        aria-current="true"
        aria-label="Slide 2"
      >
      </button>
      <button
        type="button"
        data-bs-target="#carouselShowcase"
        data-bs-slide-to="2"
        aria-current="true"
        aria-label="Slide 3"
      >
      </button>
    </div>
    <!--Carousel Items-->
    <div class="carousel-inner" style="border-radius: 1rem;" >
      {% for i in movies %}
        {% if loop.first%}
          <!--First Item-->
          <div class="carousel-item active">
            <img
              src="{{ i.get('background') }}"
              class="d-block w-100"
              alt="Movie One"
            >
            <div class="carousel-caption d-none d-md-block">
              <h5 class="drop-shadow">{{ i.get("title") }}</h5>
              <p class="drop-shadow">{{ i.get("description") }}</p>
            </div>
          </div>
        {% else %}
          <div class="carousel-item">
            <img
              src="{{ i.get('background') }}"
              class="d-block w-100"
              alt="Movie Two"
            >
            <div class="carousel-caption d-none d-md-block">
              <h5 class="drop-shadow">{{ i.get("title") }}</h5>
              <p class="drop-shadow">{{ i.get("description") }}</p>
            </div>
          </div>
        {% endif %}
      {% endfor %}
      <!--Buttons-->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselShowcase"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselShowcase"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
      </div>
    </div>
  </div>
  <!--Info about the search-->
  <section class="text-light p-5 text-center" style="background-color: rgba(227, 166, 230, 0.3)">
    <div class="container">
      <div class="d-lg-flex">
        <div>
          <h1 class="drop-shadow" style="font-family: VanillaExtract;">searching for a movie?</h1>
          <p>
            Worry not! We have many different movies for you to watch. Just type what you are looking for
            on our Search page and we will find that in no time. There are way too many movies in our database
            (85,855 to be exact!) so you can be sure that we have what you want.
          </p>
        </div>
        <img
          class="img-fluid ms-auto"
          src="/static/finding_nemo.gif"
          alt="Finding Nemo"
          style="border-radius: 0.75rem;"  
        >
      </div>
    </div>
  </section>
  <!--Info about the watchlist-->
  <section class="text-light p-5 text-center" style="background-color: rgba(161, 40, 49, 0.3);">
    <div class="container">
      <div class="d-lg-flex">
        <img
          class="img-fluid ms-auto"
          src="/static/john_travolta.gif"
          alt="John Travolta"
          style="border-radius: 0.75rem;"  
        >
        <div>
          <h1 class="drop-shadow " style="font-family: VanillaExtract;">create your own Watchlist</h1>
          <p>
            Now that you found your special movie, add it to your watchlist that so you can keep
            all of your movies organized. I know I know, you might forget about it in the future.
            BUT what if I say we can send you a reminder mail about it? Now this is getting interesting.
          </p>
        </div>
      </div>
    </div>
  </section>
  <!--Info about signing up-->
  <!--Info about the search-->
  <section class="text-light p-5 text-center" style="background-color: rgba(218, 92, 7, 0.3);">
    <div class="container">
      <div class="d-lg-flex">
        <div>
          <h1 class="drop-shadow" style="font-family: VanillaExtract;">sign up now!</h1>
          <p>
            All of these features and more are available for free! All you need is to
            create an account. Every sensitive info of yours will be encrypted in our database.
            So, just relax and enjoy your movie night &lt;3
          </p>
        </div>
        <img
          class="img-fluid ms-auto"
          src="/static/the_joker.gif"
          alt="Finding Nemo"
          style="border-radius: 0.75rem;"  
        >
      </div>
    </div>
  </section>

{% endblock %}